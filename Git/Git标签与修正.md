# Git 标签与修订提交命令指南

## 一、Git 打标签命令

### 1. 创建标签

#### 附注标签（包含详细信息）
`git tag -a <标签名> -m "标签描述"`
- `-a`: 创建附注标签（含作者、日期、描述等信息）
- `-m`: 直接添加标签描述（不打开编辑器）

#### 轻量标签（仅标记提交）
`git tag <标签名>`

#### 给指定提交打标签
`git tag -a <标签名> <提交哈希> -m "标签描述"`
- `<提交哈希>`: 指定要打标签的提交的哈希值

### 2. 查看标签
`git tag`
- 显示所有本地标签（按字母排序）

`git show <标签名>`
- 查看特定标签的详细信息（含提交记录）

### 3. 推送标签到远程仓库
`git push origin <标签名>`
- 推送单个标签到远程

`git push origin --tags`
- 推送所有本地未同步的标签到远程

### 4. 删除标签
`git tag -d <标签名>`
- 删除本地标签

`git push origin :refs/tags/<标签名>`
- 删除远程标签（需先删除本地标签）

---

## 二、修订上次提交

### 1. 修改提交信息
`git commit --amend -m "新的提交信息"`
- `--amend`: 修改上次提交
- `-m`: 直接添加提交信息（不打开编辑器）

### 2. 不修改提交信息
`git commit --amend --no-edit`
- `--no-edit`: 保留原提交信息不修改

---

## 注意事项

1. **强制推送风险**  
   若已推送原提交到远程，需强制推送修订后的提交：
   `git push origin <分支名> --force`
   谨慎使用，避免影响他人工作。

2. **标签时效性**  
   标签通常指向不可变的提交，适合标记版本发布点。

3. **附注标签优势**  
   推荐使用附注标签（`-a`），包含完整元数据，方便追溯。

4. **修订提交限制**  
   `--amend` 只能修改最近一次提交，更复杂修改需用 `rebase`。
